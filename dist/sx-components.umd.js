!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self)["sx-components"]={})}(this,(function(t){"use strict";function n(){}function e(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(e)}function r(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let c,l=!1;function a(t,n,e,o){for(;t<n;){const i=t+(n-t>>1);e(i)<=o?t=i+1:n=i}return t}function u(t,n){l?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const n=t.childNodes,e=new Int32Array(n.length+1),o=new Int32Array(n.length);e[0]=-1;let i=0;for(let l=0;l<n.length;l++){const t=a(1,i+1,(t=>n[e[t]].claim_order),n[l].claim_order)-1;o[l]=e[t]+1;const r=t+1;e[r]=l,i=Math.max(r,i)}const r=[],s=[];let c=n.length-1;for(let l=e[i]+1;0!=l;l=o[l-1]){for(r.push(n[l-1]);c>=l;c--)s.push(n[c]);c--}for(;c>=0;c--)s.push(n[c]);r.reverse(),s.sort(((t,n)=>t.claim_order-n.claim_order));for(let l=0,a=0;l<s.length;l++){for(;a<r.length&&s[l].claim_order>=r[a].claim_order;)a++;const n=a<r.length?r[a]:null;t.insertBefore(s[l],n)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),n!==t.actual_end_child?t.insertBefore(n,t.actual_end_child):t.actual_end_child=n.nextSibling):n.parentNode!==t&&t.appendChild(n)}function d(t,n,e){l&&!e?u(t,n):(n.parentNode!==t||e&&n.nextSibling!==e)&&t.insertBefore(n,e||null)}function h(t){t.parentNode.removeChild(t)}function f(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function p(){return m("")}function g(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function $(t){return Array.from(t.childNodes)}function _(t,n,e,o,i=!1){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0});const r=(()=>{for(let o=t.claim_info.last_index;o<t.length;o++){const r=t[o];if(n(r))return e(r),t.splice(o,1),i||(t.claim_info.last_index=o),r}for(let o=t.claim_info.last_index-1;o>=0;o--){const r=t[o];if(n(r))return e(r),t.splice(o,1),i?t.claim_info.last_index--:t.claim_info.last_index=o,r}return o()})();return r.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,r}function b(t,n,e,o){return _(t,(t=>t.nodeName===n),(t=>{const n=[];for(let o=0;o<t.attributes.length;o++){const i=t.attributes[o];e[i.name]||n.push(i.name)}n.forEach((n=>t.removeAttribute(n)))}),(()=>o?function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}(n):f(n)))}function x(t,n){return _(t,(t=>3===t.nodeType),(t=>{t.data=""+n}),(()=>m(n)),!0)}function y(t,n,e){for(let o=e;o<t.length;o+=1){const e=t[o];if(8===e.nodeType&&e.textContent.trim()===n)return o}return t.length}function v(t,n,e){t.classList[e?"add":"remove"](n)}class k{constructor(t){this.e=this.n=null,this.l=t}m(t,n,e=null){this.e||(this.e=f(n.nodeName),this.t=n,this.l?this.n=this.l:this.h(t)),this.i(e)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)d(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(h)}}function w(t){const n={};for(const e of t)n[e.name]=e.value;return n}function E(t){c=t}function T(t){(function(){if(!c)throw new Error("Function called outside component initialization");return c})().$$.on_mount.push(t)}function N(t,n){const e=t.$$.callbacks[n.type];e&&e.slice().forEach((t=>t.call(this,n)))}const A=[],M=[],C=[],L=[],S=Promise.resolve();let j=!1;function H(t){C.push(t)}let O=!1;const B=new Set;function I(){if(!O){O=!0;do{for(let t=0;t<A.length;t+=1){const n=A[t];E(n),R(n.$$)}for(E(null),A.length=0;M.length;)M.pop()();for(let t=0;t<C.length;t+=1){const n=C[t];B.has(n)||(B.add(n),n())}C.length=0}while(A.length);for(;L.length;)L.pop()();j=!1,O=!1,B.clear()}}function R(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(H)}}const D=new Set;let P,z;function G(t,n){t&&t.i&&(D.delete(t),t.i(n))}function V(t,n,e,o){if(t&&t.o){if(D.has(t))return;D.add(t),P.c.push((()=>{D.delete(t),o&&(e&&t.d(1),o())})),t.o(n)}}function q(t,n,o,s){const{fragment:c,on_mount:l,on_destroy:a,after_update:u}=t.$$;c&&c.m(n,o),s||H((()=>{const n=l.map(e).filter(r);a?a.push(...n):i(n),t.$$.on_mount=[]})),u.forEach(H)}function F(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function U(t,n){-1===t.$$.dirty[0]&&(A.push(t),j||(j=!0,S.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function J(t,e,r,s,a,u,d=[-1]){const f=c;E(t);const m=t.$$={fragment:null,ctx:null,props:u,update:n,not_equal:a,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:e.context||[]),callbacks:o(),dirty:d,skip_bound:!1};let p=!1;if(m.ctx=r?r(t,e.props||{},((n,e,...o)=>{const i=o.length?o[0]:e;return m.ctx&&a(m.ctx[n],m.ctx[n]=i)&&(!m.skip_bound&&m.bound[n]&&m.bound[n](i),p&&U(t,n)),e})):[],m.update(),p=!0,i(m.before_update),m.fragment=!!s&&s(m.ctx),e.target){if(e.hydrate){l=!0;const t=$(e.target);m.fragment&&m.fragment.l(t),t.forEach(h)}else m.fragment&&m.fragment.c();e.intro&&G(t.$$.fragment),q(t,e.target,e.anchor,e.customElement),l=!1,I()}E(f)}function K(t){let n,e,o=t[1](t[0])+"";return{c(){n=new k,e=p(),this.h()},l(t){n=function(t){const n=y(t,"HTML_TAG_START",0),e=y(t,"HTML_TAG_END",n);if(n===e)return new k;const o=t.splice(n,e+1);return h(o[0]),h(o[o.length-1]),new k(o.slice(1,o.length-1))}(t),e=p(),this.h()},h(){n.a=e},m(t,i){n.m(o,t,i),d(t,e,i)},p(t,e){3&e&&o!==(o=t[1](t[0])+"")&&n.p(o)},d(t){t&&h(e),t&&n.d()}}}function Q(t){let e,o=t[1]&&K(t);return{c(){o&&o.c(),e=p(),this.c=n},l(t){o&&o.l(t),e=p()},m(t,n){o&&o.m(t,n),d(t,e,n)},p(t,[n]){t[1]?o?o.p(t,n):(o=K(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},i:n,o:n,d(t){o&&o.d(t),t&&h(e)}}}function W(t,n,e){let o,{src:i}=n;return T((async()=>{var t;e(1,o=(await(t=()=>import("https://unpkg.com/marked@2.1.2/lib/marked.esm.js"),t())).default)})),t.$$set=t=>{"src"in t&&e(0,i=t.src)},[i,o]}"function"==typeof HTMLElement&&(z=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(e).filter(r);for(const n in this.$$.slotted)this.appendChild(this.$$.slotted[n])}attributeChangedCallback(t,n,e){this[t]=e}disconnectedCallback(){i(this.$$.on_disconnect)}$destroy(){F(this,1),this.$destroy=n}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class X extends z{constructor(t){super(),J(this,{target:this.shadowRoot,props:w(this.attributes),customElement:!0},W,Q,s,{src:0}),t&&(t.target&&d(t.target,this,t.anchor),t.props&&(this.$set(t.props),I()))}static get observedAttributes(){return["src"]}get src(){return this.$$.ctx[0]}set src(t){this.$set({src:t}),I()}}function Y(t){let n,e,o,r,s,c;return o=new X({props:{src:t[1]}}),{c(){var t;n=f("div"),e=f("div"),(t=o.$$.fragment)&&t.c(),this.h()},l(t){n=b(t,"DIV",{});var i=$(n);e=b(i,"DIV",{class:!0});var r,s,c=$(e);r=o.$$.fragment,s=c,r&&r.l(s),c.forEach(h),i.forEach(h),this.h()},h(){var o,i,r;o=e,i="class",null==(r="markdown-body")?o.removeAttribute(i):o.getAttribute(i)!==r&&o.setAttribute(i,r),v(e,"content",t[5]),v(n,"mask",t[4])},m(i,l){var a;d(i,n,l),u(n,e),q(o,e,null),t[7](e),t[8](n),r=!0,s||(c=[g(e,"click",(a=t[6],function(t){return t.stopPropagation(),a.call(this,t)})),g(n,"click",t[2])],s=!0)},p(t,i){const r={};2&i&&(r.src=t[1]),o.$set(r),32&i&&v(e,"content",t[5]),16&i&&v(n,"mask",t[4])},i(t){r||(G(o.$$.fragment,t),r=!0)},o(t){V(o.$$.fragment,t),r=!1},d(e){e&&h(n),F(o),t[7](null),t[8](null),s=!1,i(c)}}}function Z(t){let n;return{c(){n=m("?")},l(t){n=x(t,"?")},m(t,e){d(t,n,e)},d(t){t&&h(n)}}}function tt(t){let n;return{c(){n=m("✖")},l(t){n=x(t,"✖")},m(t,e){d(t,n,e)},d(t){t&&h(n)}}}function nt(t){let e,o,r,s,c,l=t[0]&&Y(t);function a(t,n){return t[0]?tt:Z}let u=a(t),p=u(t);return{c(){l&&l.c(),e=m(" "),o=f("button"),p.c(),this.c=n,this.h()},l(t){l&&l.l(t),e=function(t){return x(t," ")}(t),o=b(t,"BUTTON",{});var n=$(o);p.l(n),n.forEach(h),this.h()},h(){v(o,"button",t[3])},m(n,i){l&&l.m(n,i),d(n,e,i),d(n,o,i),p.m(o,null),t[9](o),r=!0,s||(c=g(o,"click",t[2]),s=!0)},p(t,[n]){t[0]?l?(l.p(t,n),1&n&&G(l,1)):(l=Y(t),l.c(),G(l,1),l.m(e.parentNode,e)):l&&(P={r:0,c:[],p:P},V(l,1,1,(()=>{l=null})),P.r||i(P.c),P=P.p),u!==(u=a(t))&&(p.d(1),p=u(t),p&&(p.c(),p.m(o,null))),8&n&&v(o,"button",t[3])},i(t){r||(G(l),r=!0)},o(t){V(l),r=!1},d(n){l&&l.d(n),n&&h(e),n&&h(o),p.d(),t[9](null),s=!1,c()}}}function et(t,n,e){let o,i,r,{src:s}=n,{visible:c=!1}=n;return t.$$set=t=>{"src"in t&&e(1,s=t.src),"visible"in t&&e(0,c=t.visible)},[c,s,function(){e(0,c=!c)},o,i,r,function(n){N.call(this,t,n)},function(t){M[t?"unshift":"push"]((()=>{r=t,e(5,r)}))},function(t){M[t?"unshift":"push"]((()=>{i=t,e(4,i)}))},function(t){M[t?"unshift":"push"]((()=>{o=t,e(3,o)}))}]}customElements.define("sx-markdown",X);class ot extends z{constructor(t){super(),this.shadowRoot.innerHTML="<style>@import url('https://unpkg.com/github-markdown-css@4.0.0/github-markdown.css');.button{font-size:4rem;background:white;border-radius:100%;border:none;outline:none}.button{position:fixed;top:0;right:0;margin-top:1rem;margin-right:1rem;padding:0;width:6rem;aspect-ratio:1/1}.mask{background:rgba(0, 0, 0, 0.5)}.mask{position:fixed;inset:0;display:flex;justify-content:center;align-items:center}.content{max-width:75%;max-height:75%;padding:1rem;overflow:scroll}.content{background:white}</style>",J(this,{target:this.shadowRoot,props:w(this.attributes),customElement:!0},et,nt,s,{src:1,visible:0,toggle:2}),t&&(t.target&&d(t.target,this,t.anchor),t.props&&(this.$set(t.props),I()))}static get observedAttributes(){return["src","visible","toggle"]}get src(){return this.$$.ctx[1]}set src(t){this.$set({src:t}),I()}get visible(){return this.$$.ctx[0]}set visible(t){this.$set({visible:t}),I()}get toggle(){return this.$$.ctx[2]}}customElements.define("sx-help",ot),t.Help=ot,t.Markdown=X,Object.defineProperty(t,"__esModule",{value:!0}),t[Symbol.toStringTag]="Module"}));
